import"./index.html";import"./style.css";const inputMovieFilm=document.querySelector("#searchInput"),movieList=document.querySelector("#moviesList"),wrapperBtn=document.querySelector("#pageBtn"),arrowPrev=document.querySelector("#prevPage"),arrowNext=document.querySelector("#nextPage"),resultNameFilm=document.querySelector("#result"),pageFilm=document.querySelector("#page"),paginationBtn=document.querySelector("#btn");let apiKey="3ef4ab9e",apiUrl="https://www.omdbapi.com/",page=1,nameMovie="",colorTextDescription="white";function getMovies(){pageFilm.innerHTML=page;let e=0;fetch(`${apiUrl}?apiKey=${apiKey}&s=${nameMovie}&page=${page}`).then((o=>{o.json().then((o=>{"True"==o.Response&&(e=o,showMovies(e))}))}))}function showMovies(e){movieList.innerHTML="";let o=e.Search;for(let e=0;e<o.length;e++){let t=o[e].Poster,n=o[e].Title,i=o[e].Year,r=o[e].imdbID,s=document.createElement("div");s.classList.add("wrapperMovie"),s.innerHTML=`\n            <span class = "wrapperImg" style = "color: ${colorTextDescription}"><img src=${t} class = "imgMovie"></span>\n            <span class = "nameMovie" style = "color: ${colorTextDescription}">Name: ${n}</span></br>\n            <span class = "yearMovie" style = "color: ${colorTextDescription}">Year: ${i}</span>\n            <span class = "idFilm" style = "color: ${colorTextDescription}">${r}</span>\n        `,movieList.appendChild(s)}detailsInfoMovie()}function detailsInfoMovie(){movieList.querySelectorAll(".wrapperMovie").forEach((e=>{e.addEventListener("click",(async()=>{let o=e.querySelector(".idFilm");o=o.innerText;const t=await fetch(`http://www.omdbapi.com/?i=${o}&apikey=fc1fef96`);showDetailsInfo(await t.json(),e)}))}))}function showDetailsInfo(e,o){if(o.querySelector(".detalisInfoMovie"))"none"==o.querySelector(".detalisInfoMovie").style.display?o.querySelector(".detalisInfoMovie").style.display="block":o.querySelector(".detalisInfoMovie").style.display="none";else{let t=document.createElement("div");t.innerHTML=`\n        <div class = "detalisInfoMovie">\n            <span style = "color: ${colorTextDescription}">Actors:${e.Actors}</span><br>\n            <span style = "color: ${colorTextDescription}">Awards:${e.Awards}</span><br>\n            <span style = "color: ${colorTextDescription}">Country:${e.Country}</span><br>\n            <span style = "color: ${colorTextDescription}">Director:${e.Director}</span><br>\n            <span style = "color: ${colorTextDescription}">Language:${e.Language}</span><br>\n            <span style = "color: ${colorTextDescription}">Runtime:${e.Runtime}</span>\n        </div>\n        `,o.innerHTML+=t.innerHTML}}searchInput.focus(),paginationBtn.addEventListener("click",(function(){nameMovie=inputMovieFilm.value,""===nameMovie?movieList.style.display="none":(movieList.style.display="flex",page=1,wrapperBtn.style.display="flex",resultNameFilm.innerHTML=nameMovie,getMovies())})),arrowPrev.addEventListener("click",(function(){page++,getMovies()})),arrowNext.addEventListener("click",(function(){page>1&&(page--,getMovies())}));